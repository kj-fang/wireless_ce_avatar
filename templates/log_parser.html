<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>WiFi / BT Log Analyzer</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #promptEditor {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        body {
            padding: 20px;
            background-color: #f1f3f4;
        }
    </style>
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

</head>
<div class="form-container mb-4 p-0 overflow-hidden" 
    style="border-radius: 0; margin-top: -20px; margin-left: -20px; margin-right: -20px; margin-left: -20px">
    <img src="{{ url_for('static', filename='nav_bar.svg') }}" 
        alt="nav_bar" 
        class="w-100" 
        style="border-radius: 0; display: block;">
</div>
<body>
   
    <div class="container">
        <h1 class="text-center py-2 font-weight-bold">
            <span class="text-primary">WiFi / BT</span> 
                Log Analyzer 
        </h1>
        <form id="analysisForm" class="mb-4">
            
            <div class="d-flex justify-content-between align-items-center">
                    {% if classification %}
                        <div id="classification-display" class="mb-3" data-classification="{{classification}}"></div>
                    {% endif %}
                    <button type="button" class="btn btn-secondary btn-sm" onclick="location.href='/'">Back to Home</button>
                </div>
            
            
            {% if should_auto_analyze %}
                <div id="auto-analysis-status" class="alert alert-info mb-3">
                    <i class="fas fa-robot"></i> 
                    <strong>Auto Analysis:</strong> 
                    <span id="auto-analysis-text">Preparing automatic analysis...</span>
                </div>
                <div id="auto-analysis-data" style="display: none;" 
                        data-filter-file="{{auto_analysis_data.filter_file}}"
                        data-prompt-file="{{auto_analysis_data.prompt_file}}"
                        data-issue-type="{{auto_analysis_data.issue_type}}">
                </div>
            {% endif %}
            
            <!-- progress bar -->
            <div id="progressContainer" class="mb-4" style="display: none;">
                <div class="card">
                    <div class="card-body">
                        <h6 class="card-title font-weight-bold">Processing...</h6>
                        <div class="progress mb-2">
                            <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" 
                                role="progressbar" style="width: 0%"></div>
                        </div>
                        <small id="progressText" class="text-muted">Initializing...</small>
                    </div>
                </div>
            </div>

            <!-- result -->
            <div id="resultContainer">
                {% if llm_result_html %}
                <div class="card shadow-sm">
                    <div class="card-body p-4">
                        <h5 class="card-title font-weight-bold">Analysis Result</h5>
                        <hr class="mb-4">
                        <div class="markdown-body lh-lg " style="
                            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                            letter-spacing: 0.25px; 
                            line-height: 1.7;
                            word-spacing: 0.8px;
                        ">
                            {{ llm_result_html|safe }}
                        </div>
                        {% if log_output_path %}
                        <p class="mt-3 text-muted">Processed log saved at: <code>{{ log_output_path }}</code></p>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>

            <!-- Filter  -->
            <div class="mb-3">
                
                <label class="form-label font-weight-bold">Select Filter File (.tat)</label>
                <div class="input-group">
                    <select name="filter_file" id="filterSelect" class="form-control" required>
                        <option value="">Select filter file</option>
                        {% for filter_file in available_filters %}
                            <option value="{{ filter_file }}">{{ filter_file }}</option>
                        {% endfor %}
                    </select>
                    <button type="button" class="btn btn-sm btn-primary rounded-end" onclick="document.getElementById('filterUpload').click()">
                        <i class="fas fa-upload"></i> Upload New
                    </button>
                    <input type="file" id="filterUpload" class="d-none" accept=".tat" onchange="uploadFilterFile(this)">
                </div>
                <small class="form-text text-muted">Select filter from project_root/filter or upload new .tat file</small>
            </div>
            
            <!-- Prompt select and edit box -->
            <div class="mb-3">
                <label class="form-label font-weight-bold">Prompt Configuration</label>
                
                <!-- Prompt select -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Template Prompts</label>
                        <select id="templateSelect" class="form-control" onchange="autoLoadPrompt('template')">
                            <option value="">Select template prompt</option>
                            {% for template in available_prompts %}
                                <option value="{{ template }}">{{ template }}</option>
                            {% endfor %}
                        </select>
                    
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Custom Prompts</label>
                        <div class="input-group">
                            <select id="customSelect" class="form-control" onchange="autoLoadPrompt('custom')">
                                <option value="">Select custom prompt</option>
                                {% for custom in available_custom_prompts %}
                                    <option value="{{ custom }}">{{ custom }}</option>
                                {% endfor %}
                            </select>
                            <button type="button" class="btn btn-sm btn-primary rounded-end" onclick="document.getElementById('customPromptUpload').click()">
                                <i class="fas fa-upload"></i> Upload New
                            </button>
                            <input type="file" id="customPromptUpload" class="d-none" accept=".py" onchange="uploadPromptFile(this)">
                        </div>
                    </div>
                </div>
                
                <!-- Prompt editor -->
                <div class="mb-3">
                    <label class="form-label font-weight-bold">Prompt Editor</label>
                    <textarea id="promptEditor" name="prompt_content" class="form-control" rows="15" 
                            placeholder="Enter your custom prompt here or load from template/custom prompts above..." required></textarea>
                </div>
                
                <!-- save -->
                <div class="d-flex">
                    <button type="button" class="btn btn-secondary mr-2" onclick="clearEditor()">
                        Clear
                    </button>
                    <button type="button" id="saveCurrentBtn" class="btn btn-success mr-2" onclick="saveCurrentPrompt()" style="display: none;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button type="button" class="btn btn-primary" onclick="showSaveModal()">
                        Save as New Custom
                    </button>
                </div>
            </div>
        
            <button type="submit" id="submitBtn" class="btn btn-primary w-100 font-weight-bold">Run Analysis</button>
        </form>

        
    </div>

    <!-- save Modal -->
    <div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="saveModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="saveModalLabel">Save Custom Prompt</h5>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Filename</label>
                        <input type="text" id="saveFilename" class="form-control" placeholder="Enter filename (without .py extension)">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" id="modalSaveBtn" class="btn btn-primary" onclick="savePrompt()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPromptFile = null; 
        let currentPromptType = null;

        const LOAD_PROMPT_URL = "{{ url_for('log_parser.load_prompt') }}"
        const EDIT_PROMPT_URL = "{{ url_for('log_parser.edit_prompt') }}"
        const UPLOAD_URL = "{{ url_for('log_parser.upload') }}"

        const socket = io('/progress');
        
        const classify_element = document.getElementById('classification-display');
        const classificationData = JSON.parse(classify_element.dataset.classification);

        const auto_analysis_element = document.getElementById('auto-analysis-data')

        function renderClassification(classification) {
            const issueType = classification.issue_type || 'Unclassified';
            const confidence = classification.confidence || 0;
            const keywords = classification.keywords_found || [];
            const confidencePercent = Math.round(confidence * 100);

            function getConfidenceBadgeColor(confidence) {
                if (issueType == 'Unknown' || issueType == 'Unclassified') return 'danger';  
                if (confidence >= 0.9) return 'success';
                if (confidence >= 0.7) return 'warning';
                return 'danger';
            }
            
            const badgeColor = getConfidenceBadgeColor(confidence);

            console.log(badgeColor)
            
            return `
                <div class="classification-section mb-2">
                    <div class="font-weight-bold text-dark mb-1">Classification based on description:</div>
                    <div class="d-flex align-items-center">
                        <span class="badge badge-${badgeColor} badge-pill px-3 py-2 mr-2" style="font-size: 1rem;">${issueType}</span>
                        
                        <div class="text-muted" style="font-size: 0.9rem;">
                            ${keywords.length > 0 ? `<div>Keywords: <code style="font-size: 0.9rem;">${keywords.join(', ')}</code></div>` : ''}
                            <div>Confidence: ${confidencePercent}%</div>
                            </div>
                    </div>
                </div>
            `;
        }

        classify_element.innerHTML = renderClassification(classificationData);

        document.addEventListener('DOMContentLoaded', function() {
            const autoAnalysisDataElement = document.getElementById('auto-analysis-data');
            if (autoAnalysisDataElement) {
                const autoAnalysisData = {
                    filter_file: autoAnalysisDataElement.dataset.filterFile,
                    prompt_file: autoAnalysisDataElement.dataset.promptFile,
                    issue_type: autoAnalysisDataElement.dataset.issueType
                };
                
                console.log('Starting auto analysis for:', autoAnalysisData.issue_type);
                startAutoAnalysis(autoAnalysisData);
            }
        });

        function startAutoAnalysis(analysisData) {
            console.log('Auto analysis data:', analysisData);
            
            // 更新狀態文字
            const statusText = document.getElementById('auto-analysis-text');
            if (statusText) {
                statusText.textContent = `Loading configuration for "${analysisData.issue_type}"...`;
            }
            
            // 設置 filter 選擇
            const filterSelect = document.getElementById('filterSelect');
            filterSelect.value = analysisData.filter_file;
            
            loadPromptContent("template", analysisData.prompt_file)
                .then(() => {
                    console.log("Prompt loaded, now submitting");
                    submitAutoAnalysis(analysisData);
                })
                .catch(error => {
                    console.error('Failed to load prompt:', error);
                    if (statusText) {
                        statusText.textContent = 'Error loading configuration';
                    }
                });
            }

        function submitAutoAnalysis(analysisData) {
            const filterFile = document.getElementById('filterSelect').value;
            const promptContent = document.getElementById('promptEditor').value;
            
            if (!filterFile || !promptContent.trim()) {
                console.error('Auto analysis failed: missing filter or prompt content');
                return;
            }

            const analysisSubmissionData = {
                filter_file: filterFile,
                prompt_content: promptContent
            };
            
            console.log('Submitting auto analysis:', analysisSubmissionData);
            
            const autoStatus = document.getElementById('auto-analysis-status');
            if (autoStatus) {
                autoStatus.style.display = 'none';
            }
            
            showProgress();
            
            socket.emit('submit_analysis', analysisSubmissionData);
        }


        

        function validateETLFile(input) {
            const file = input.files[0];
            const fileDisplay = document.getElementById('file-display');
            
            if (file) {
                const fileName = file.name.toLowerCase();
                const isValidETL = fileName.endsWith('.etl') || /\.etl\.\d+$/.test(fileName);
                
                if (!isValidETL) {
                    alert('Please select a file with .etl or .etl.xxx format');
                    input.value = '';
                    fileDisplay.value = 'No file selected';
                    fileDisplay.className = 'form-control';
                } else {
                    fileDisplay.value = file.name;
                    fileDisplay.className = 'form-control is-valid';
                }
            } else {
                fileDisplay.value = 'No file selected';
                fileDisplay.className = 'form-control';
            }
        }

        function autoLoadPrompt(type) {
            const selectId = type === 'template' ? 'templateSelect' : 'customSelect';
            const selectedFile = document.getElementById(selectId).value;
            
            if (!selectedFile) {
                if (currentPromptType === type) {
                    clearEditor();
                }
                return;
            }
            
            const otherSelectId = type === 'template' ? 'customSelect' : 'templateSelect';
            document.getElementById(otherSelectId).value = '';
            
            loadPromptContent(type, selectedFile);
        }

        const saveCurrentBtnState = {
            isLoading: false,
            originalHtml: '',
            
            setLoading: function(isLoading, loadingText = 'Updating...') {
                const saveBtn = document.getElementById('saveCurrentBtn');
                if (!saveBtn) return;
                
                if (isLoading) {
                    this.isLoading = true;
                    this.originalHtml = saveBtn.innerHTML;
                    saveBtn.disabled = true;
                    saveBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${loadingText}`;
                } else {
                    this.isLoading = false;
                    saveBtn.disabled = false;
                    saveBtn.innerHTML = this.originalHtml;
                    this.originalHtml = '';
                }
            },
            
            updateText: function(newHtml) {
                const saveBtn = document.getElementById('saveCurrentBtn');
                if (!saveBtn || this.isLoading) return; 
                saveBtn.innerHTML = newHtml;
            }
        };

        

        function loadPromptContent(type, selectedFile) {

            const editor = document.getElementById('promptEditor');
            const originalPlaceholder = editor.placeholder;
            editor.value = '';
            editor.placeholder = 'Loading prompt...';
            editor.disabled = true;
            

            console.log(selectedFile)
            selectedFile = selectedFile.replace(/\\/g, '\\\\');
            console.log(selectedFile)

            return fetch(LOAD_PROMPT_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    type: type,
                    file: selectedFile
                })
            })
            .then(response => response.json())
            .then(data => {
                editor.value = data.content;
                
                currentPromptFile = selectedFile;
                currentPromptType = type;
                
                const saveBtn = document.getElementById('saveCurrentBtn');
                if (type === 'custom') {
                    saveBtn.style.display = 'inline-block';
                    saveCurrentBtnState.updateText(`<i class="fas fa-save"></i> Save (${selectedFile})`);
                } else {
                    saveBtn.style.display = 'none';
                }

                return data;
            })
            .catch(error => {
                console.error('Error loading prompt:', error);
                alert('Error loading prompt');
                
                const selectId = type === 'template' ? 'templateSelect' : 'customSelect';
                document.getElementById(selectId).value = '';

                throw error;
            })
            .finally(() => {
                editor.disabled = false;
                editor.placeholder = originalPlaceholder;
            });
        }

        function loadPrompt(type) {
            const selectId = type === 'template' ? 'templateSelect' : 'customSelect';
            const selectedFile = document.getElementById(selectId).value;
            
            if (!selectedFile) {
                alert('Please select a prompt file first');
                return;
            }
            
            fetch(LOAD_PROMPT_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    type: type,
                    file: selectedFile
                })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('promptEditor').value = data.content;
                
                currentPromptFile = selectedFile;
                currentPromptType = type;
                
                // show Save btn if custom 
                const saveBtn = document.getElementById('saveCurrentBtn');
                if (type === 'custom') {
                    saveBtn.style.display = 'inline-block';
                    saveCurrentBtnState.updateText(`<i class="fas fa-save"></i> Save (${selectedFile})`);
                } else {
                    saveBtn.style.display = 'none';
                }
                
                const otherSelectId = type === 'template' ? 'customSelect' : 'templateSelect';
                document.getElementById(otherSelectId).value = '';
            })
            .catch(error => {
                console.error('Error loading prompt:', error);
                alert('Error loading prompt');
            });
        }

        function clearEditor() {
            document.getElementById('promptEditor').value = '';
            currentPromptFile = null;
            currentPromptType = null;
            document.getElementById('saveCurrentBtn').style.display = 'none';
            document.getElementById('templateSelect').value = '';
            document.getElementById('customSelect').value = '';
        }

        function sendPromptRequest(action, filename, content, onSuccess, onError) {

            fetch( EDIT_PROMPT_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    action: action,
                    filename: filename,
                    content: content
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert(data.message);
                    if (onSuccess) onSuccess();

                    updatePromptLists(data.templates, data.customs, data.uploaded_file);
                } else {
                    alert('Error: ' + data.message);
                    if (onError) onError();
                }
            })
            .catch(error => {
                console.error('Error with prompt:', error);
                alert('Failed to process prompt');
                if (onError) onError();
            })
            .finally(() => {
                saveCurrentBtnState.setLoading(false);
            });
        }

        function savePrompt() {
            const filename = document.getElementById('saveFilename').value;
            const content = document.getElementById('promptEditor').value;
            const button = document.getElementById('modalSaveBtn');
            
            if (!filename.trim()) {
                alert('Please enter a filename');
                return;
            }

            button.disabled = true;
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
            
           sendPromptRequest('save', filename, content, 
            // onSuccess 
            () => {
                $('#saveModal').modal('hide');
                document.getElementById('saveFilename').value = '';
                button.disabled = false;
                button.innerHTML = 'Save';

                const fullFilename = filename + '.py';
                currentPromptFile = fullFilename;
                currentPromptType = 'custom';

                const saveBtn = document.getElementById('saveCurrentBtn');
                saveBtn.style.display = 'inline-block';
                saveCurrentBtnState.updateText(`<i class="fas fa-save"></i> Save (${fullFilename})`);
            },
            // onError 
            () => {
                button.disabled = false;
                button.innerHTML = 'Save';
            }
            )
            
        }

        function saveCurrentPrompt() {
            if (!currentPromptFile || currentPromptType !== 'custom') {
                alert('No custom prompt file selected for saving');
                return;
            }
            
            const content = document.getElementById('promptEditor').value;
            if (!content.trim()) {
                alert('Please enter prompt content');
                return;
            }
            
            if (!confirm(`Are you sure you want to overwrite "${currentPromptFile}"?`)) {
                return;
            }

            const saveBtn = document.getElementById('saveCurrentBtn');
            saveCurrentBtnState.setLoading(true);
            
            sendPromptRequest('update', currentPromptFile, content);

        }

        
        function uploadFile(input, type, expectedExtension) {
            const file = input.files[0];
            
            if (!file) {
                return;
            }
            
            // validate file format
            const fileName = file.name.toLowerCase();
            if (!fileName.endsWith(expectedExtension)) {
                alert(`Please select a file with ${expectedExtension} format`);
                input.value = '';
                return;
            }
            
            
            const formData = new FormData();
            formData.append('file', file);
            formData.append('type', type);
            
            // show "uploading"
            const uploadBtn = input.previousElementSibling;
            const originalText = uploadBtn.innerHTML;
            uploadBtn.disabled = true;
            uploadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Uploading...';
            
            fetch( UPLOAD_URL, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert(data.message);
                    input.value = '';
                    
                    // update
                    if (type === 'filter') {
                        updateFilterList(data.filters, data.uploaded_file);
                    } else if (type === 'prompt') {
                        updatePromptLists(data.templates, data.customs, data.uploaded_file);
                    }
                } else {
                    alert('Error: ' + data.message);
                    input.value = '';
                }
            })
            .catch(error => {
                console.error('Error uploading file:', error);
                alert('Failed to upload file');
                input.value = '';
            })
            .finally(() => {
                uploadBtn.disabled = false;
                uploadBtn.innerHTML = originalText;
            });
        }

        // Filter upload
        function uploadFilterFile(input) {
            uploadFile(input, 'filter', '.tat');
        }

        // Prompt upload
        function uploadPromptFile(input) {
            uploadFile(input, 'prompt', '.py');
        }

        function updateFilterList(filters, selectFileName = null) {
            const filterSelect = document.getElementById('filterSelect');
            
            filterSelect.innerHTML = '<option value="">Select filter file</option>';
            
            filters.forEach(filter => {
                const option = document.createElement('option');
                option.value = filter;
                option.textContent = filter;
                if (selectFileName && filter === selectFileName) {
                    option.selected = true;
                }
                
                filterSelect.appendChild(option);
            });
        }

    function updatePromptLists(templates, customs, selectFileName = null) {

        const templateSelect = document.getElementById('templateSelect');
        templateSelect.innerHTML = '<option value="">Select template prompt</option>';
        
        templates.forEach(template => {
            const option = document.createElement('option');
            option.value = template;
            option.textContent = template;
            templateSelect.appendChild(option);
        });
        
        // update custom list
        const customSelect = document.getElementById('customSelect');
        customSelect.innerHTML = '<option value="">Select custom prompt</option>';
        
        customs.forEach(custom => {
            const option = document.createElement('option');
            option.value = custom;
            option.textContent = custom;
            
            // select new uploaded file
            if (selectFileName && custom === selectFileName) {
                option.selected = true;
            }
            
            customSelect.appendChild(option);
        });
    }


        
        

        function showSaveModal() {
            const content = document.getElementById('promptEditor').value;
            if (!content.trim()) {
                alert('Please enter some prompt content first');
                return;
            }
            
            $('#saveModal').modal('show');
        }

        function showProgress() {
            document.getElementById('progressContainer').style.display = 'block';

            document.getElementById('submitBtn').disabled = true;
            document.getElementById('submitBtn').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';

            document.getElementById('resultContainer').innerHTML = '';

            updateProgress(0, 'Starting analysis...');
        }
        function hideProgress() {
            document.getElementById('progressContainer').style.display = 'none';
            
            document.getElementById('submitBtn').disabled = false;
            document.getElementById('submitBtn').innerHTML = 'Run Analysis';
        }

        function updateProgress(percentage, message) {
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = message;
        }

        socket.on('Progress', function(data) {
            console.log('Progress update:', data.percentage + '% - ' + data.message);
            updateProgress(data.percentage, data.message);
        });

        socket.on('analysis_error', function(data) {
            console.log('Analysis error:', data.message);
            hideProgress();
            showError(data.message);
        });


        socket.on('analysis_completed', function(data) {
            console.log('Analysis completed:', data);
            hideProgress();
            showResults(data.result_html, data.log_output_path);
        });
        function showResults(resultHtml, logOutputPath) {
            const resultContainer = document.getElementById('resultContainer');
            
            let content = `
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title font-weight-bold">Analysis Result</h5>
                        <hr>
                        <div class="markdown-body">
                            ${resultHtml}
                        </div>
            `;
            if (logOutputPath) {
                content += `<p class="mt-3 text-muted">Processed log saved at: <code>${logOutputPath}</code></p>`;
            }
            content += `
                    </div>
                </div>
            `;
            resultContainer.innerHTML = content;
            resultContainer.style.display = 'block';
        }

        function showError(errorMessage) {
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.innerHTML = `
                <div class="card shadow-sm">
                    <div class="card-body">
                        <div class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-triangle"></i>
                            <strong>Analysis Failed:</strong> ${errorMessage}
                        </div>
                    </div>
                </div>
            `;
            resultContainer.style.display = 'block';
        }

        document.getElementById('analysisForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const filterFile = document.getElementById('filterSelect').value;
            const promptContent = document.getElementById('promptEditor').value;
            
            // const formData = new FormData(this);

            if (!filterFile || !promptContent.trim()) {
                    alert('Please select a filter file and enter prompt content.');
                    return;
                }

            const analysisData = {
                    filter_file: filterFile,
                    prompt_content: promptContent
                };
            showProgress();
            socket.emit('submit_analysis', analysisData);
            
        });
    </script>

</body>
</html> 